[[JavaScript]]

> 參考：[[頂級網站技術長高度：前端工程進階大師指南]] 的第二章。

# 暫時性死區
函數參數預設值也會受到暫時性死區的影響。
```js
function foo(arg1 = arg2, arg2) {
	console.log(arg1, arg2)
}

foo(undefinded, 'arg2')

// Uncaught ReferenceError: arg2 is not defined.
```

# 執行上下文
執行上下文包含：
- 變數物件
- 作用域鏈
- this 的指向
- ...等

作用域是在預先編譯階段確定，但是作用域鏈是在執行上下文的建立階段完成後產生的。

## 程式執行過程
1. 預先編譯階段建立變數物件 (Variable Object，VO)，只是建立而未設定值。
2. 程式執行，變數物件會轉為啟動物件 (Active Object, AO)。
3. 作用域鏈確定，由目前執行環境的變數物件和所有外層已經完成的啟動物件組成。

# 閉包
函數 (外層) 中，傳回另一個函數，且這個函數使用了函數 (外層) 內的變數，那麼外界便能透過這個傳回的函數取得原函數 (外層) 內部的變數值。


